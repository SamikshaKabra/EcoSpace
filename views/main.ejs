<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoSpace</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/styles/style.css">
</head>

<body>
    <%- include('partials/nav.ejs') %>
        <div class="container mt-2">

            <div class="row">
                <div class="container col-6">
                    <form action="/main" method="post" enctype="multipart/form-data">
                        <div class=" mt-3">
                            <div class="img-fluid">

                                <img id="uploadedImage" src="">

                            </div>
                            <label for="exampleFormControlTextarea1" class="form-label">Upload Image</label>
                            <div class="input-group mb-3">
                                <input type="file" class="form-control" id="inputGroupFile01" name="img"
                                    accept="image/*" required>
                            </div>
                        </div>

                        <div class="row mt-3">

                            <div class="col-4 ">
                                <label for="exampleSelect">Style of Room:</label>
                                <select name="style" class="form-control " id="exampleSelect1">
                                    <option value="minimalist">Minimalist</option>
                                    <option value="vintage">Vintage</option>
                                    <option value="coastal">Coastal</option>
                                    <option value="modern organic">Modern Organic</option>
                                    <option value="art deco">Art Deco</option>
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="exampleSelect2">Color of Room:</label>
                                <select name="color" class="form-control" id="exampleSelect2">
                                    <option value="blue">blue</option>
                                    <option value="yellow">yellow</option>
                                    <option value="red">red</option>
                                    <option value="white">white </option>
                                    <option value="black">black </option>
                                </select>
                            </div>



                            <div class="col-4">
                                <label for="exampleSelect1">Type of Room:</label>
                                <select name="type" class="form-control" id="exampleSelect3">
                                    <option value="room">Room</option>
                                    <option value="library">Library</option>
                                    <option value="hall">Hall</option>
                                    <option value="living room">Living Room</option>
                                    <option value="office">Office</option>
                                </select>
                            </div>

                        </div>

                        <div class="row mt-3">
                            <div class="mb-3">
                                <label for="exampleFormControlTextarea1" class="form-label">Enter Prompt</label>
                                <textarea class="form-control" id="exampleFormControlTextarea1" name="prompt" rows="3"
                                    placeholder="Enter some other details i.e. best quality, extremely detailed..."></textarea>
                            </div>

                        </div>

                        <div class="row mt-3">
                            <div class="mb-3">
                                <label for="exampleFormControlTextarea1" class="form-label">Enter Negative
                                    Prompt</label>
                                <textarea class="form-control" id="exampleFormControlTextarea2" name="nprompt" rows="3"
                                    placeholder="Enter the constraints that you don't want in the picture. i.e. longbody, lowres, bad anatomy, bad hands, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality"></textarea>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="mb-3">
                                <button class="btn btn-primary px-4 gap-3"><input type="submit" onclick="showPreloader()" value="Submit"></button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="container col-6" id="output-img">

                    <div class="img-fluid">
                     
                     
                        <% if(locals.output){%>
                            <img src="<%= output %>" alt="output-Image">
                            <% }%> </div>
                    </div>
                </div>

            </div>
            </div>
            <%- include('partials/footer.ejs') %>
            
                <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
                <script>
                    document.getElementById("inputGroupFile01").addEventListener("change", function () {
                        var input = this;
                        if (input.files && input.files[0]) {
                            var reader = new FileReader();
                            reader.onload = function (e) {
                                var imgElement = document.getElementById("uploadedImage");
                                imgElement.src = e.target.result;
                                imgElement.style.width = "100%";
                            };
                            reader.readAsDataURL(input.files[0]);
                        }
                    });

                    document.addEventListener("DOMContentLoaded", function () {
                        var selectElement2 = document.getElementById('exampleSelect2');
                        var selectElement1 = document.getElementById('exampleSelect1');
                        var selectElement3 = document.getElementById('exampleSelect3');

                        // Activate Select2 on the select element
                        $(selectElement2).select2({
                            tags: true,
                            tokenSeparators: [',', ' '],
                        });
                        $(selectElement1).select2({
                            tags: true,
                            tokenSeparators: [',', ' '],
                        });
                        $(selectElement3).select2({
                            tags: true,
                            tokenSeparators: [',', ' '],
                        });
                    });
                    
                </script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
                    crossorigin="anonymous"></script>
</body>
</html>